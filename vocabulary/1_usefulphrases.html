<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Useful Phrases | CzechByLukas</title>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
          client="ca-pub-9067674021614925" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-9067674021614925">

  <!-- CSS -->
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/language-selector.css">
</head>

<body class="vocab-page">

  <header>
    <h1 id="heading-vocabTitle">Useful Phrases - Vocabulary</h1>
    <div id="language-selector-container"></div>
  </header>

  <main>
    <table id="vocabTable">
      <thead>
        <tr>
          <th id="table-czech">Czech</th>
          <th id="table-pronunciation">Pronunciation</th>
          <th id="table-english">English</th>
        </tr>
      </thead>
      <tbody id="vocabBody"></tbody>
    </table>

    <div class="big-buttons">
      <a id="btn-practice" href="../exercise/1_usefulphrases.html">üß† Practice</a>
      <a id="btn-test" href="../tests/1_usefulphrases.html">üìù Test</a>
    </div>

    <div class="small-buttons">
      <a id="btn-home" href="../index.html">üè† Home</a>
      <a id="btn-vocabList" href="../vocabulary/index.html">üìò Vocabulary List</a>
    </div>
  </main>

  <footer class="support-note">
    <span id="footer-text">‚ù§Ô∏è I build this site myself to help people learn Czech. If you‚Äôd like to support my work, <a id="footer-link" href="../support.html">click here</a>.</span>
  </footer>

  <!-- Vocabulary data -->
  <script src="../data/1_usefulphrases.js"></script>
  <!-- Translations -->
  <script src="../js/translations.js"></script>
  <!-- Language selector -->
  <script src="../js/language-selector.js"></script>

  <script>
    function renderVocab() {
      // Get selected language, default to English
      const lang = localStorage.getItem("language") || "en";
      const tbody = document.getElementById("vocabBody");
      tbody.innerHTML = ""; // clear table

      // Fill table dynamically based on language
      vocab.forEach(item => {
        const row = document.createElement("tr");
        let colText;
        switch(lang) {
          case "cz": colText = item.czech; break;
          case "de": colText = item.german; break;
          case "es": colText = item.spanish; break;
          default: colText = item.english;
        }
        row.innerHTML = `<td>${item.czech}</td><td>${item.pronunciation}</td><td>${colText}</td>`;
        tbody.appendChild(row);
      });

      // Update headers and buttons text from translations
      document.getElementById("heading-vocabTitle").textContent = translations[lang].headings.usefulPhrases;
      document.getElementById("table-czech").textContent = translations[lang].headings.czech;
      document.getElementById("table-pronunciation").textContent = translations[lang].headings.pronunciation;
      document.getElementById("table-english").textContent = translations[lang].headings.english;
      document.getElementById("btn-practice").textContent = translations[lang].buttons.practice;
      document.getElementById("btn-test").textContent = translations[lang].buttons.test;
      document.getElementById("btn-home").textContent = translations[lang].buttons.home;
      document.getElementById("btn-vocabList").textContent = translations[lang].buttons.vocabulary;
      document.getElementById("footer-text").innerHTML = translations[lang].footer.text + ' <a href="../support.html">' + translations[lang].footer.link + '</a>';
    }

    // Initial render
    renderVocab();

    // Re-render table when language changes
    document.addEventListener("languageChanged", renderVocab);
  </script>

</body>
</html>
